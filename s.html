<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Student</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/vuetify@3.4.10/dist/vuetify.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/vuetify@3.4.10/dist/vuetify.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-auth-compat.js"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/@mdi/font@5.x/css/materialdesignicons.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <div id="app" class="text-center"> <!-- Add 'text-center' class here -->      <v-app>
        <v-container>
          <v-card>
            <v-card-title class="bg-blue-grey">{{title}}</v-card-title>
            <v-card-text class="pa-6">
              <table width="100%">
                <thead>
                  <tr>
                    <form action="">
                    <v-text-field v-model="text" label="รหัสเข้าห้องเรียน" type="code"></v-text-field>
                    <v-btn type="submit" color="primary">เข้าห้องเรียน</v-btn>

                        
                    </form>
                  </tr>
                </thead>
                <tbody>
                  
                </tbody>
              </table>
            </v-card-text>

            
    </div>

    <script>
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      const firebaseConfig = {
        apiKey: "AIzaSyBDKg1dNBxTgB3ThE6cFERRuvRQfacqKmY",
        authDomain: "web2566-63112.firebaseapp.com",
        projectId: "web2566-63112",
        storageBucket: "web2566-63112.appspot.com",
        messagingSenderId: "1083451463669",
        appId: "1:1083451463669:web:37dc20ff36f9be9f8872bc",
        measurementId: "G-63SNKZ785R",
      };

      firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    const vuetify = Vuetify.createVuetify();
    const app = Vue.createApp({
      data() {
        return {
          title: "Student",
          email: '',
          password: '',
        };
      },
      methods: {
        async loginUser() {
          try {
            const userCredential = await firebase.auth().signInWithEmailAndPassword(this.email, this.password);
            // Handle successful login
            console.log("Login successful", userCredential.user);

            // Redirect based on email domain
            const emailDomain = this.email.split('@')[1];
            if (emailDomain === 'kkumail.com') {
              window.location.href = 's.html'; // Redirect to s.html for kkumail.com
            } else if (emailDomain === 'kku.ac.th') {
              window.location.href = 't.html'; // Redirect to t.html for kku.ac.th
            } else {
              console.error('Invalid email domain');
            }
          } catch (error) {
            console.error("Login error:", error.message);
          }
        },
      },
    });

    app.use(vuetify).mount("#app");
  </script>
</body>
</html>